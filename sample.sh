# Get service account token
curl -X POST http://localhost:8080/realms/mpc/protocol/openid-connect/token \
    -d 'grant_type=client_credentials' \
    -d 'client_id=mpc-backend-service' \
    -d 'client_secret=FpXMLFTOoJMw86uc1yIviVxPfS6nkBms'

# Login as test user
curl -X POST http://localhost:8080/realms/mpc/protocol/openid-connect/token \
    -d 'grant_type=password' \
    -d 'client_id=mpc-frontend' \
    -d 'username=test@example.com' \
    -d 'password=test123' | jq -r '.access_token'

curl -X POST http://localhost:8080/realms/mpc/protocol/openid-connect/token \
  -H "Content-Type: application/x-www-form-urlencoded" \
  -d "client_id=mpc-backend" \
  -d "username=test@example.com" \
  -d "password=test123" \
  -d "grant_type=password" | jq

TARGET_TOKEN=eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJ2NVpZVGt5eHhQUFlfYnBpcU1ueVVxVTZaSjB1RXFJZExyQVNzZUpTRF9BIn0.eyJleHAiOjE3Njc2MzQyMzMsImlhdCI6MTc2NzYzMzkzMywianRpIjoib25ydHJvOmM1ZDRmNzIwLTc4MDYtNWYwNS1mMGRmLTdlZmFlNTMwNTNkZiIsImlzcyI6Imh0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9yZWFsbXMvbXBjIiwiYXVkIjoiYWNjb3VudCIsInN1YiI6ImJjYWRlYjdhLTM1YzYtNDk4Ni05YzBkLTJjN2JkMDM5NWI5NiIsInR5cCI6IkJlYXJlciIsImF6cCI6Im1wYy1mcm9udGVuZCIsInNpZCI6ImU1ZTFmNTdhLTQ1ZTUtYjJiZC0xNzU4LTNjMjUwZWUzMjg5YSIsImFjciI6IjEiLCJhbGxvd2VkLW9yaWdpbnMiOlsiaHR0cDovL2xvY2FsaG9zdDozMDAxIiwiaHR0cDovL2xvY2FsaG9zdDozMDAwIl0sInJlYWxtX2FjY2VzcyI6eyJyb2xlcyI6WyJvZmZsaW5lX2FjY2VzcyIsInVtYV9hdXRob3JpemF0aW9uIiwiZGVmYXVsdC1yb2xlcy1tcGMiXX0sInJlc291cmNlX2FjY2VzcyI6eyJhY2NvdW50Ijp7InJvbGVzIjpbIm1hbmFnZS1hY2NvdW50IiwibWFuYWdlLWFjY291bnQtbGlua3MiLCJ2aWV3LXByb2ZpbGUiXX19LCJzY29wZSI6ImVtYWlsIHByb2ZpbGUiLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwibmFtZSI6IlRlc3QgVXNlciIsInByZWZlcnJlZF91c2VybmFtZSI6InRlc3R1c2VyIiwiZ2l2ZW5fbmFtZSI6IlRlc3QiLCJmYW1pbHlfbmFtZSI6IlVzZXIiLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20ifQ.C-BsIzRviBVWSaGjgwG4rMD3UXHr1LvBf2TEbWICKysx7DeGsRyGXJKJObeWTrjwqtf9dH5ic1_cDvRzRRVDHvEdXVaVEHT6fA12GTxw0bJhHCw-_V_AVSQdt2ZZ08TeRaveWlbS0uxgcZ3aEgHa_TKRE9_KZwwaPdSMGTgX2HabF7XA6fUneIP-ZgFbgEwgp1ek6fMFnChsqtsSUkWGgRpjIcUEkHY7z-UTtG95wgqDPjfo_AJU_RYwxaSKo2Laei6rFwvel-bWGZrPmcWpfIwhULgy2ALung7BrlkKnAtcOqjagcPxo2ZZNKTWFR7A7rnaYHhtJhlvcJsPBAWj4g

# conduct for user info

# GET /api/v1/users/me
# Bearer TOKEN: $TARGET_TOKEN
curl -X GET http://localhost:14444/api/v1/users/me \
    -H "Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJ2NVpZVGt5eHhQUFlfYnBpcU1ueVVxVTZaSjB1RXFJZExyQVNzZUpTRF9BIn0.eyJleHAiOjE3Njc2MzY2ODYsImlhdCI6MTc2NzYzNjM4NiwianRpIjoib25ydHJvOjQwMTU0YzgzLWFjNDctMjdmYy05MjAzLWRlYmZjNmY1NjM1NSIsImlzcyI6Imh0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9yZWFsbXMvbXBjIiwiYXVkIjoiYWNjb3VudCIsInN1YiI6ImJjYWRlYjdhLTM1YzYtNDk4Ni05YzBkLTJjN2JkMDM5NWI5NiIsInR5cCI6IkJlYXJlciIsImF6cCI6Im1wYy1mcm9udGVuZCIsInNpZCI6IjI1MzRkYjA0LTIzZDItZDEzMy04MGVjLTk2MzcxZWU0MDIwMiIsImFjciI6IjEiLCJhbGxvd2VkLW9yaWdpbnMiOlsiaHR0cDovL2xvY2FsaG9zdDozMDAxIiwiaHR0cDovL2xvY2FsaG9zdDozMDAwIl0sInJlYWxtX2FjY2VzcyI6eyJyb2xlcyI6WyJvZmZsaW5lX2FjY2VzcyIsInVtYV9hdXRob3JpemF0aW9uIiwiZGVmYXVsdC1yb2xlcy1tcGMiXX0sInJlc291cmNlX2FjY2VzcyI6eyJhY2NvdW50Ijp7InJvbGVzIjpbIm1hbmFnZS1hY2NvdW50IiwibWFuYWdlLWFjY291bnQtbGlua3MiLCJ2aWV3LXByb2ZpbGUiXX19LCJzY29wZSI6ImVtYWlsIHByb2ZpbGUiLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwibmFtZSI6IlRlc3QgVXNlciIsInByZWZlcnJlZF91c2VybmFtZSI6InRlc3R1c2VyIiwiZ2l2ZW5fbmFtZSI6IlRlc3QiLCJmYW1pbHlfbmFtZSI6IlVzZXIiLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20ifQ.NOwJHt4Xuhr_PlrwPY-acD2utuwZCGBcfKITgMRiD-Xitlr3ccFJIyf4h2LrTW3K-y_KeKGuV8MWNK8zkETOvZykKPXuBQTHZq9rnZJh8hrt9lB44pRbYajInp83iTR2SV_9i8vCgsjdzC2TDhE9zG7n1vabanJ8gncJWkJLeg3Ud9JK0ZpTUy-jt6zvQnucGB023nuhdHDI0OPxcraTpsdlDV4zSNIWnJlNupY2g39SJWvugt48eB7pHsIEWMrmbyI8QTnW1k2igJBIXN0deJGLfuV4YNcWi92lDCPw4aTnL3VJJIkD4tgHQZP8HT4gE27I8kMzeyhVWk6jgQwQ7A" \
    -H "Content-Type: application/json" | jq

curl -X GET http://localhost:14444/api/v1/users/me \
  -H "Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2RU5XTEM2RVYxbzB6bmlNWVBUeDdHQy1nbUEtNElSYmtSN3ZsRmxDVzJZIn0.eyJleHAiOjE3Njc2NzIwOTQsImlhdCI6MTc2NzY3MTc5NCwiYXV0aF90aW1lIjoxNzY3NjcxNDgwLCJqdGkiOiJvbnJ0cnQ6ZmMxOWE1NGMtZDgzNi05OWZkLWJiMTgtZmM0NmEyNDE4NjAwIiwiaXNzIjoiaHR0cDovL2xvY2FsaG9zdDo4MDgwL3JlYWxtcy9tcGMiLCJhdWQiOiJhY2NvdW50Iiwic3ViIjoiOGEzOGJlNTEtODJlNi00ZDMxLWEzY2QtNTU5Y2NjNjg2YzFlIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoibXBjLWZyb250ZW5kIiwic2lkIjoiNmY3NDI5NGUtNjFkMS04ZDMzLWY3NmEtOGVlYTJmZTNiNzM2IiwiYWNyIjoiMSIsImFsbG93ZWQtb3JpZ2lucyI6WyJodHRwOi8vbG9jYWxob3N0OjMwMDEiLCJodHRwOi8vbG9jYWxob3N0OjMwMDAiLCJodHRwOi8vbG9jYWxob3N0OjUxNzMiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbIm9mZmxpbmVfYWNjZXNzIiwidW1hX2F1dGhvcml6YXRpb24iLCJkZWZhdWx0LXJvbGVzLW1wYyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7ImFjY291bnQiOnsicm9sZXMiOlsibWFuYWdlLWFjY291bnQiLCJtYW5hZ2UtYWNjb3VudC1saW5rcyIsInZpZXctcHJvZmlsZSJdfX0sInNjb3BlIjoib3BlbmlkIGVtYWlsIHByb2ZpbGUiLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwibmFtZSI6IlRlc3QgVXNlciIsInByZWZlcnJlZF91c2VybmFtZSI6InRlc3R1c2VyIiwiZ2l2ZW5fbmFtZSI6IlRlc3QiLCJmYW1pbHlfbmFtZSI6IlVzZXIiLCJlbWFpbCI6InRlc3RAZXhhbXBsZS5jb20ifQ.OiT_zCFdsjPpomR42E3TLRSZb9Xzvp82dmFDEp1-ZKLWku7xZ3QSalcIfhRRj15NnAsGXDBZUmlyjhPxJTff2jOr1pcq_YxWb6PBhvY5kAbqRU6JhDGpdwKTyCMKyHdMpOh-j6vqmJnZWfnh5fxOaJCBuu6H_bp-lxMi7-y808H46W-GZsfVSrALsdc6FvTy0pSxwXR8uDLfv9nRoAa_UWBALHPCIpHdXtbd-06gPUNRJ8eN8ZKb0PO6ehNsjep8BmszlBRNv15Xd-VzJoTQORRZQ27n4XYcSYMScCFF_r-7qFcW8hqBxtv6obtbOUBT5ObisYsWFI7GoSgenhWhIQ"
